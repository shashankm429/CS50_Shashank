{"filter":false,"title":"fifteen.c","tooltip":"/pset3/fifteen/fifteen.c","undoManager":{"mark":62,"position":62,"stack":[[{"start":{"row":0,"column":0},"end":{"row":188,"column":0},"action":"remove","lines":["/**"," * fifteen.c"," *"," * Implements Game of Fifteen (generalized to d x d)."," *"," * Usage: fifteen d"," *"," * whereby the board's dimensions are to be d x d,"," * where d must be in [DIM_MIN,DIM_MAX]"," *"," * Note that usleep is obsolete, but it offers more granularity than"," * sleep and is simpler to use than nanosleep; `man usleep` for more."," */"," ","#define _XOPEN_SOURCE 500","","#include <cs50.h>","#include <stdio.h>","#include <stdlib.h>","#include <unistd.h>","","// constants","#define DIM_MIN 3","#define DIM_MAX 9","","// board","int board[DIM_MAX][DIM_MAX];","","// dimensions","int d;","","// prototypes","void clear(void);","void greet(void);","void init(void);","void draw(void);","bool move(int tile);","bool won(void);","","int main(int argc, string argv[])","{","    // ensure proper usage","    if (argc != 2)","    {","        printf(\"Usage: fifteen d\\n\");","        return 1;","    }","","    // ensure valid dimensions","    d = atoi(argv[1]);","    if (d < DIM_MIN || d > DIM_MAX)","    {","        printf(\"Board must be between %i x %i and %i x %i, inclusive.\\n\",","            DIM_MIN, DIM_MIN, DIM_MAX, DIM_MAX);","        return 2;","    }","","    // open log","    FILE *file = fopen(\"log.txt\", \"w\");","    if (file == NULL)","    {","        return 3;","    }","","    // greet user with instructions","    greet();","","    // initialize the board","    init();","","    // accept moves until game is won","    while (true)","    {","        // clear the screen","        clear();","","        // draw the current state of the board","        draw();","","        // log the current state of the board (for testing)","        for (int i = 0; i < d; i++)","        {","            for (int j = 0; j < d; j++)","            {","                fprintf(file, \"%i\", board[i][j]);","                if (j < d - 1)","                {","                    fprintf(file, \"|\");","                }","            }","            fprintf(file, \"\\n\");","        }","        fflush(file);","","        // check for win","        if (won())","        {","            printf(\"ftw!\\n\");","            break;","        }","","        // prompt for move","        printf(\"Tile to move: \");","        int tile = get_int();","        ","        // quit if user inputs 0 (for testing)","        if (tile == 0)","        {","            break;","        }","","        // log move (for testing)","        fprintf(file, \"%i\\n\", tile);","        fflush(file);","","        // move if possible, else report illegality","        if (!move(tile))","        {","            printf(\"\\nIllegal move.\\n\");","            usleep(500000);","        }","","        // sleep thread for animation's sake","        usleep(500000);","    }","    ","    // close log","    fclose(file);","","    // success","    return 0;","}","","/**"," * Clears screen using ANSI escape sequences."," */","void clear(void)","{","    printf(\"\\033[2J\");","    printf(\"\\033[%d;%dH\", 0, 0);","}","","/**"," * Greets player."," */","void greet(void)","{","    clear();","    printf(\"WELCOME TO GAME OF FIFTEEN\\n\");","    usleep(2000000);","}","","/**"," * Initializes the game's board with tiles numbered 1 through d*d - 1"," * (i.e., fills 2D array with values but does not actually print them).  "," */","void init(void)","{","    // TODO","}","","/**"," * Prints the board in its current state."," */","void draw(void)","{","    // TODO","}","","/**"," * If tile borders empty space, moves tile and returns true, else"," * returns false. "," */","bool move(int tile)","{","    // TODO","    return false;","}","","/**"," * Returns true if game is won (i.e., board is in winning configuration), "," * else false."," */","bool won(void)","{","    // TODO","    return false;","}",""],"id":224},{"start":{"row":0,"column":0},"end":{"row":270,"column":0},"action":"insert","lines":["","","#define _XOPEN_SOURCE 500","","#include <cs50.h>","#include <stdio.h>","#include <stdlib.h>","#include <unistd.h>","","// board's minimal dimension","#define MIN 3","","// board's maximal dimension","#define MAX 9","","// board, whereby board[i][j] represents row i and column j","int board[MAX][MAX];","","// board's dimension","int d;","","","int tile;","int blankspace;","int x;","int y;","int i;","int j;","","// prototypes","void clear(void);","void greet(void);","void init(void);","void draw(void);","bool move(int tile);","bool won(void);","void save(void);","","/**"," * Main function - sets up how game will operate."," */","int main(int argc, string argv[])","{","    // greet player","    greet();","       // open log","    FILE* file = fopen(\"log.txt\", \"w\");","","    // ensure proper usage","    if (argc != 2)","    {","        printf(\"Usage: ./fifteen d\\n\");","        return 1;","    }","","    // ensure valid dimensions","    d = atoi(argv[1]);","    if (d < MIN || d > MAX)","    {","        printf(\"Board must be between %i x %i and %i x %i, inclusive.\\n\",","            MIN, MIN, MAX, MAX);","        return 2;","    }","    ","    // initialixing x and y here so 0 does not reset every time you call move function","    else","    {","        x = (d - 1);","        y = (d - 1);","    }","","    // initialize the board","    init();","","    // accept moves until game is won","    while (true)","    {","        // clear the screen","        clear();","","        // draw the current state of the board","        draw();","        ","          // log the current state of the board (for testing)","","        for (int i = 0; i < d; i++)","        {","            for (int j = 0; j < d; j++)","            {","                fprintf(file, \"%i\", board[i][j]);","                if (j < d - 1)","                {","                    fprintf(file, \"|\");","                }","            }","            fprintf(file, \"\\n\");","        }","        fflush(file);","","        // check for win","        if (won())","        {","            printf(\"ftw!\\n\");","            break;","        }","","        // prompt for move","        printf(\"Tile to move: \");","        int tile = GetInt();","           // quit if user inputs 0 (for testing)","        if (tile == 0)","        {","            break;","        }","        ","           // log move (for testing)","        fprintf(file, \"%i\\n\", tile);","        fflush(file);","        ","        // move if possible, else report illegality","        if (!move(tile))","        {","            printf(\"\\nIllegal move.\\n\");","            usleep(500000);","        }","","        // sleep for animation's sake","        usleep(500000);","    }","     fclose(file);","    // that's all folks","    return 0;","}","","","void clear(void)","{","    printf(\"\\033[2J\");","    printf(\"\\033[%d;%dH\", 0, 0);","}","","","void greet(void)","{","    clear();","    printf(\"GAME OF FIFTEEN\\n\");","    usleep(2000000);","}","","","void init(void)","{","    ","    int dsquared = (d * d);","    int n = 0;","","    ","    for (int i = 0; i < d; i++)","    {","        for (int j = 0; j < d; j++)","        {","            ","            n = n + 1;","            board[i][j] = (dsquared - n);","        }","    }   ","    ","    if ((d % 2) == 0)","    {","        int temp = board[d - 1][d - 2];","        board[d - 1][d - 2] = board[d - 1][d - 3];","        board[d - 1][d - 3] = temp; ","    }   ","     ","}","","","void draw(void)","{","    ","    int n = 0;","","    ","    for (int i = 0; i < d; i++)","    {","        ","        for (int j = 0; j < d; j++)","        {","            n = (n + 1); ","","            ","            if (board[i][j] > 0) ","            {","                printf(\"| %d \", board[i][j]);","            }","","            ","            if (board[i][j] == 0) ","            {","                printf(\"|__ \");","            }","        }","        ","        printf(\"|\\n\"); ","    }    ","      ","}","","","bool move(int tile)","{","  ","    for (int i = 0; i < d; i++) ","    {","        ","        for (int j = 0; j < d; j++) ","        {","            ","            if(tile == board[i][j]) ","            {","               ","                int blankspace = 0;       ","","                if (((x == (i - 1)) && (j == y)) ||  ((x == (i + 1)) && (j == y)) ||","                ((i == x) && (y == (j - 1))) || ((i == x) && (y == (j + 1))))","                {","                    ","","                    board[x][y] = tile;","                    board[i][j] = blankspace;","                    x=i;","                    y=j;","","","                    return true;","                }   ","            } ","        }","    }","    return false;","}","","","bool won(void)","{","    ","    int n = 0;","","    ","    for (int i = 0; i < d; i++) ","    {","        for (int j = 0; j < d; j++)","        {","            ","            n = n + 1;","","            ","          ","           if (board[i][j] != n )","            {","                if ( i != d-1 || j != d-1)","                {return false;}","                ","            }","        } ","    }","    ","    return true;","}","",""]}],[{"start":{"row":153,"column":26},"end":{"row":153,"column":27},"action":"remove","lines":[";"],"id":225}],[{"start":{"row":153,"column":25},"end":{"row":153,"column":26},"action":"remove","lines":[")"],"id":226}],[{"start":{"row":153,"column":24},"end":{"row":153,"column":25},"action":"remove","lines":["d"],"id":227}],[{"start":{"row":153,"column":23},"end":{"row":153,"column":24},"action":"remove","lines":[" "],"id":228}],[{"start":{"row":153,"column":22},"end":{"row":153,"column":23},"action":"remove","lines":["*"],"id":229}],[{"start":{"row":153,"column":21},"end":{"row":153,"column":22},"action":"remove","lines":[" "],"id":230}],[{"start":{"row":153,"column":20},"end":{"row":153,"column":21},"action":"remove","lines":["d"],"id":231}],[{"start":{"row":153,"column":19},"end":{"row":153,"column":20},"action":"remove","lines":["("],"id":232}],[{"start":{"row":153,"column":18},"end":{"row":153,"column":19},"action":"remove","lines":[" "],"id":233}],[{"start":{"row":153,"column":17},"end":{"row":153,"column":18},"action":"remove","lines":["="],"id":234}],[{"start":{"row":153,"column":16},"end":{"row":153,"column":17},"action":"remove","lines":[" "],"id":235}],[{"start":{"row":153,"column":15},"end":{"row":153,"column":16},"action":"remove","lines":["d"],"id":236}],[{"start":{"row":153,"column":14},"end":{"row":153,"column":15},"action":"remove","lines":["e"],"id":237}],[{"start":{"row":153,"column":13},"end":{"row":153,"column":14},"action":"remove","lines":["r"],"id":238}],[{"start":{"row":153,"column":12},"end":{"row":153,"column":13},"action":"remove","lines":["a"],"id":239}],[{"start":{"row":153,"column":11},"end":{"row":153,"column":12},"action":"remove","lines":["u"],"id":240}],[{"start":{"row":153,"column":10},"end":{"row":153,"column":11},"action":"remove","lines":["q"],"id":241}],[{"start":{"row":153,"column":9},"end":{"row":153,"column":10},"action":"remove","lines":["s"],"id":242}],[{"start":{"row":153,"column":8},"end":{"row":153,"column":9},"action":"remove","lines":["d"],"id":243}],[{"start":{"row":153,"column":7},"end":{"row":153,"column":8},"action":"remove","lines":[" "],"id":244}],[{"start":{"row":153,"column":6},"end":{"row":153,"column":7},"action":"remove","lines":["t"],"id":245}],[{"start":{"row":153,"column":5},"end":{"row":153,"column":6},"action":"remove","lines":["n"],"id":246}],[{"start":{"row":153,"column":4},"end":{"row":153,"column":5},"action":"remove","lines":["i"],"id":247}],[{"start":{"row":163,"column":34},"end":{"row":163,"column":35},"action":"remove","lines":["d"],"id":248}],[{"start":{"row":163,"column":33},"end":{"row":163,"column":34},"action":"remove","lines":["e"],"id":249}],[{"start":{"row":163,"column":32},"end":{"row":163,"column":33},"action":"remove","lines":["r"],"id":250}],[{"start":{"row":163,"column":31},"end":{"row":163,"column":32},"action":"remove","lines":["a"],"id":251}],[{"start":{"row":163,"column":30},"end":{"row":163,"column":31},"action":"remove","lines":["u"],"id":252}],[{"start":{"row":163,"column":29},"end":{"row":163,"column":30},"action":"remove","lines":["q"],"id":253}],[{"start":{"row":163,"column":28},"end":{"row":163,"column":29},"action":"remove","lines":["s"],"id":254}],[{"start":{"row":163,"column":28},"end":{"row":163,"column":29},"action":"insert","lines":["*"],"id":255}],[{"start":{"row":163,"column":29},"end":{"row":163,"column":30},"action":"insert","lines":["d"],"id":256}],[{"start":{"row":221,"column":29},"end":{"row":221,"column":30},"action":"remove","lines":["e"],"id":257}],[{"start":{"row":221,"column":28},"end":{"row":221,"column":29},"action":"remove","lines":["c"],"id":258}],[{"start":{"row":221,"column":27},"end":{"row":221,"column":28},"action":"remove","lines":["a"],"id":259}],[{"start":{"row":221,"column":26},"end":{"row":221,"column":27},"action":"remove","lines":["p"],"id":260}],[{"start":{"row":221,"column":25},"end":{"row":221,"column":26},"action":"remove","lines":["s"],"id":261}],[{"start":{"row":221,"column":24},"end":{"row":221,"column":25},"action":"remove","lines":["k"],"id":262}],[{"start":{"row":221,"column":23},"end":{"row":221,"column":24},"action":"remove","lines":["n"],"id":263}],[{"start":{"row":221,"column":22},"end":{"row":221,"column":23},"action":"remove","lines":["a"],"id":264}],[{"start":{"row":221,"column":21},"end":{"row":221,"column":22},"action":"remove","lines":["l"],"id":265}],[{"start":{"row":229,"column":43},"end":{"row":229,"column":44},"action":"remove","lines":["e"],"id":266}],[{"start":{"row":229,"column":42},"end":{"row":229,"column":43},"action":"remove","lines":["c"],"id":267}],[{"start":{"row":229,"column":41},"end":{"row":229,"column":42},"action":"remove","lines":["a"],"id":268}],[{"start":{"row":229,"column":40},"end":{"row":229,"column":41},"action":"remove","lines":["p"],"id":269}],[{"start":{"row":229,"column":39},"end":{"row":229,"column":40},"action":"remove","lines":["s"],"id":270}],[{"start":{"row":229,"column":38},"end":{"row":229,"column":39},"action":"remove","lines":["k"],"id":271}],[{"start":{"row":229,"column":37},"end":{"row":229,"column":38},"action":"remove","lines":["n"],"id":272}],[{"start":{"row":229,"column":36},"end":{"row":229,"column":37},"action":"remove","lines":["a"],"id":273}],[{"start":{"row":229,"column":35},"end":{"row":229,"column":36},"action":"remove","lines":["l"],"id":274}],[{"start":{"row":221,"column":20},"end":{"row":221,"column":21},"action":"remove","lines":["b"],"id":275}],[{"start":{"row":221,"column":20},"end":{"row":221,"column":21},"action":"insert","lines":["s"],"id":276}],[{"start":{"row":221,"column":21},"end":{"row":221,"column":22},"action":"insert","lines":["p"],"id":277}],[{"start":{"row":221,"column":22},"end":{"row":221,"column":23},"action":"insert","lines":["a"],"id":278}],[{"start":{"row":221,"column":23},"end":{"row":221,"column":24},"action":"insert","lines":["c"],"id":279}],[{"start":{"row":221,"column":24},"end":{"row":221,"column":25},"action":"insert","lines":["e"],"id":280}],[{"start":{"row":229,"column":34},"end":{"row":229,"column":35},"action":"remove","lines":["b"],"id":281}],[{"start":{"row":229,"column":34},"end":{"row":229,"column":35},"action":"insert","lines":["s"],"id":282}],[{"start":{"row":229,"column":35},"end":{"row":229,"column":36},"action":"insert","lines":["p"],"id":283}],[{"start":{"row":229,"column":36},"end":{"row":229,"column":37},"action":"insert","lines":["a"],"id":284}],[{"start":{"row":229,"column":37},"end":{"row":229,"column":38},"action":"insert","lines":["c"],"id":285}],[{"start":{"row":229,"column":38},"end":{"row":229,"column":39},"action":"insert","lines":["e"],"id":286}]]},"ace":{"folds":[],"scrolltop":1,"scrollleft":0,"selection":{"start":{"row":269,"column":0},"end":{"row":269,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1496582883412,"hash":"f90ecd75b57fa53cf6ebafad02867b05cd2288e9"}